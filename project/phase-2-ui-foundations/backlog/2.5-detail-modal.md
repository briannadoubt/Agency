---
owner: bri
agent_flow: null
agent_status: idle
branch: null
risk: normal
review: not-requested
---

# 2.5 Detail Modal (View + Edit)

Summary:
Create the detail modal with View mode (metadata grid, summary, criteria with checkboxes, notes box, history timeline) and Edit modes (Form + Raw markdown with warning).

Acceptance Criteria:
- [ ] View mode shows filename badge, phase label, Edit/Close controls, metadata grid, criteria with checkboxes/strikethrough, notes box tint, history timeline
- [ ] Form mode offers inputs for metadata, criteria add/remove with checkboxes, notes editor, history add entry prefilled with `YYYY-MM-DD - `
- [ ] Raw mode shows full markdown in a text editor with warning banner; Save/Cancel shared controls
- [ ] Save rejects if file changed on disk (optimistic locking or merge); preserves frontmatter order; optional history entry on save

Notes:
- Keep modal large/sheet style; support keyboard navigation.
- Use shared state to switch View/Form/Raw without losing edits until saved.

Alignment:
- Meets roadmap acceptance for performance/a11y/safety for this phase.
- Preserves markdown structure and frontmatter ordering on save.
- Adds a YYYY-MM-DD entry to History when meaningful changes are made.


History:
- 2025-11-23: Card created by agent.
