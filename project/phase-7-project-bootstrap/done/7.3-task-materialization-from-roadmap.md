---
owner: bri
agent_flow: null
agent_status: done
branch: implement/7-3-task-materialization-from-roadmap
risk: normal
review: not-requested
---

# 7.3 Task Materialization from ROADMAP

Summary:
Create the engine that turns ROADMAP.md into per-phase task files with proper frontmatter, sections, and naming, populating the backlog folders automatically.

Acceptance Criteria:
- [x] Materialize tasks
- [x] Handle regeneration
- [x] Generate Markdown cards for each roadmap task/subtask with standard sections (Summary, Acceptance Criteria, Notes, History)
- [x] Ensure filenames follow `<phase>.<task>-slug.md` and land in the correct `project/phase-N-*/backlog/` folder
- [x] Preserve or merge existing cards when regenerating; avoid duplicate codes and keep History intact when possible
- [x] Validate output with ConventionsValidator and fail on schema mismatches
- [x] Provide tests for single-phase and multi-phase materialization, including idempotent reruns

Notes:
- Align generated frontmatter fields with existing cards (owner/risk/review defaults)
- Consider partial generation when only a subset of phases changes

Risks, Assumptions, Guardrails:
- Idempotency: regeneration of ROADMAP.md, cards, and ARCHITECTURE.md must be repeatable; prefer diff-safe writes and backups.
- Non-destructive defaults: initializer refuses to overwrite existing files without explicit flags; dry-run previews required before writes.
- Validation-first: schema and ConventionsValidator checks gate writes; partial failures surface actionable recovery steps.
- Compatibility: preserve manual History entries and frontmatter fields when re-materializing; honor feature flags to disable auto-materialization in sensitive repos.
- Git hygiene: flows must respect dirty worktrees and avoid committing artifacts; interactive prompts available but scriptable flags remain.

Validation Strategy & Success Measures:
- Unit coverage for roadmap parser/generator (7.1), initializer orchestration (7.2), card materializer (7.3), architecture builder (7.4), and validators.
- End-to-end tests that run initializer in empty and pre-populated directories, asserting idempotent reruns and clean ConventionsValidator output.
- Success criteria: generated roadmap/cards/architecture pass validation, no unintended overwrites in existing repos, and bootstrap completes with clear logs and recovery guidance.

History:
- 2025-11-29: Card created for roadmap-to-task materialization.
- 2025-11-29: Added shared risks, guardrails, and validation strategy from phase plan.
- 2025-11-29: Moved to in-progress on branch implement/7-3-task-materialization-from-roadmap.
- 2025-11-29: Completed materializer implementation and tests; ready for bootstrap flows.
