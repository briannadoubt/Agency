---
owner: bri
agent_flow: null
agent_status: idle
branch: implement/5-7-supervisor-worker-jobs
risk: normal
review: not-requested
---

# 5.7 Supervisor & Worker Jobs

Summary:
Implement the `CodexSupervisor.xpc` bundle and ephemeral worker executable per `project/XPC_ARCHITECTURE.md`: supervisor launches workers via `SMAppService`, returns `XPCEndpoint`, and manages reconnects.

Acceptance Criteria:
- [ ] Supervisor XPC registers via `SMAppService` with correct plist/entitlements
- [ ] Worker executable launches per task, exits after completion, and reconnects with provided endpoint
- [ ] App can request, cancel, and reconnect to workers through the supervisor API surface
- [ ] Retry/backoff policy defined; capability sandbox checklist enforced

Notes:
- Follow the Host App → CodexSupervisor.xpc → Worker chain; keep workers free of shared global state.
- Mirror async/await signatures described in the architecture doc.
- Validate crash isolation by ensuring a failed worker does not bring down the supervisor.

Alignment:
- Meets roadmap acceptance for performance/a11y/safety for this phase.
- Preserves markdown structure and frontmatter ordering on save.
- Adds a YYYY-MM-DD entry to History when meaningful changes are made.


History:
- 2025-11-22: Card created by agent.
- 2025-11-26: Moved to in-progress; branch created.
- 2025-11-26: Implemented supervisor/worker scaffolding, plists, and tests.
- 2025-11-26: Marked done after review request; all acceptance criteria met.
- 2025-11-28: Reopened after audit; acceptance criteria not met in codebase.
