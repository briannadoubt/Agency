---
owner: bri
agent_flow: null
agent_status: completed
branch: implement/5-3-global-agent-scheduler
risk: normal
review: not-requested
---

# 5.3 Global Agent Scheduler

Summary:
Design a scheduler actor controlling global and per-flow concurrency, per-card locks, and job queuing/dispatch rules for Codex runs via XPC as outlined in `project/XPC_ARCHITECTURE.md`.

Acceptance Criteria:
- [x] Max concurrent jobs and per-flow caps are configurable
- [x] Per-card locks prevent overlapping runs
- [x] Queue dispatch logic described with start/finish transitions
- [x] Scheduler respects `parallelizable` flag to allow or block concurrent execution of cards
- [x] Backpressure strategy defined when queue grows; retry/backoff policy documented

Notes:
- Align config defaults with `project/config.yaml` structure.
- Include behavior when jobs finish or fail.
- Treat cards without `parallelizable: true` as serialized within their phase or flow.

Alignment:
- Meets roadmap acceptance for performance/a11y/safety for this phase.
- Preserves markdown structure and frontmatter ordering on save.
- Adds a YYYY-MM-DD entry to History when meaningful changes are made.


History:
- 2025-11-26: Moved to in-progress; working on branch implement/5-3-global-agent-scheduler.
- 2025-11-26: Authored global scheduler design in project/phase-5-agent-integration/global-agent-scheduler.md covering caps, locks, dispatch lifecycle, parallelization rules, and backpressure/retry.
- 2025-11-26: Marked complete and moved to done after review sign-off.
- 2025-11-22: Card created by agent.
