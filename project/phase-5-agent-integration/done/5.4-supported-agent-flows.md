---
owner: bri
agent_flow: null
agent_status: completed
branch: implement/5-4-supported-agent-flows
risk: normal
review: not-requested
---

# 5.4 Supported Agent Flows

Summary:
Specify behaviors for `implement`, `review`, and `research` flows, including expected inputs, outputs, frontmatter updates, and History/log updates, consistent with `project/XPC_ARCHITECTURE.md` streaming/log model.

Acceptance Criteria:
- [x] Document inputs/outputs for implement, review, research flows
- [x] Define frontmatter changes per flow and success/failure states
- [x] Outline how History entries are appended for each flow
- [x] Behaviors implemented in app code and covered by tests; documentation alone is insufficient

Notes:
- Include guidance on checklist updates for implement flow.
- Keep behaviors deterministic for automation.
- Ship code and tests that enforce these behaviors; do not close with docs-only work.

Alignment:
- Meets roadmap acceptance for performance/a11y/safety for this phase.
- Preserves markdown structure and frontmatter ordering on save.
- Adds a YYYY-MM-DD entry to History when meaningful changes are made.


History:
- 2025-11-22: Card created by agent.
- 2025-11-26: Moved to in-progress and assigned branch implement/5-4-supported-agent-flows.
- 2025-11-26: Authored supported agent flows spec in project/phase-5-agent-integration/supported-agent-flows.md.
- 2025-11-26: Marked complete and moved to done after doc review.
- 2025-11-28: Reopened after audit; acceptance criteria not met in codebase.
- 2025-11-28: Clarified that code + tests must implement documented behaviors; docs alone are not sufficient.
- 2025-11-29: Implemented agent flow behaviors in code with tests covering success/failure paths; verified xcodebuild test run passes.
