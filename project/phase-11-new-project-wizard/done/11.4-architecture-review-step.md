---
owner: agent
agent_flow: implement
agent_status: complete
risk: medium
parallelizable: false
---

# 11.4 Architecture Generation & Review

Summary:
Generate architecture document from roadmap, show loading state, then present editable architecture with key sections preview.

Acceptance Criteria:
- [x] GeneratingArchitectureView with loading animation
- [x] Circular progress with sparkle icon inside
- [x] "Designing your architecture..." headline
- [x] Descriptive subtext about analyzing components and patterns
- [x] ArchitectureReviewStepView after generation completes
- [x] Header: "Review Architecture" with "Back" button and "Create Project" button (blue)
- [x] Subhead: "Edit the technical design below to refine components and structure."
- [x] Left panel: ARCHITECTURE.MD label + scrollable TextEditor with monospace font
- [x] Right panel: Preview card showing parsed Components count and Patterns count
- [x] Right panel: Tips card with architecture formatting guidance
- [x] Live parsing: preview updates as user edits markdown
- [x] Error state if generation fails with retry option
- [x] Skip button to proceed without architecture doc

Notes:
Current implementation uses placeholder generation. Real AI integration (Claude) would be a future enhancement. The existing ArchitectureGenerator is designed for existing projects, similar to RoadmapGenerator.

Key files:
- Agency/Views/NewProjectWizard/NewProjectWizardView.swift (reuses GeneratingStepView, ErrorStepView)
- Agency/Views/NewProjectWizard/ArchitectureReviewStepView.swift
- Agency/Views/NewProjectWizard/WizardState.swift

History:
- 2025-12-07 - Card created
- 2025-12-07 - Implemented as part of 11.1-11.3 wizard implementation
