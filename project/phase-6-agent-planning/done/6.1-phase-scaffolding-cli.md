---
owner: bri
agent_flow: null
agent_status: done
branch: implement/6-1-phase-scaffolding-cli
risk: normal
review: not-requested
---

# 6.1 Phase Scaffolding CLI Backend

Summary:
Add a CLI-accessible backend that creates a new phase directory (next phase number, user-provided label), sets up status folders with .gitkeep, and optionally seeds starter cards/plan artifacts. Expose clear exit codes/logging for the agent runner.

Acceptance Criteria:
- [x] Create phase directories and plan artifact
- [ ] CLI command accepts phase label (+ optional seed task hints) and chooses next phase number automatically
- [ ] Creates phase-N-<label> with backlog/in-progress/done and .gitkeep; no overwrites on collision
- [ ] Can emit a structured plan artifact (JSON or markdown) describing proposed tasks and card seeds
- [ ] Supports optional auto-seeding of starter cards via existing CardCreator template
- [ ] Returns machine-readable result (stdout JSON) plus human-readable logs for UI streaming
- [ ] Idempotent: safe to re-run without corrupting existing phases; explicit exit codes for errors

Notes:
- Reuse numbering/slug logic from CardCreator/ProjectLoader; ensure concurrency-safe writes.
- Prefer a single entry point (e.g., worker CLI subcommand) that the UIâ€™s agent runner can call.
- Keep temp files under a run-specific directory and clean them up on success/failure.

Alignment:
- Enables agent-guided phase creation from UI before MCP exists.
- Keeps repo conventions/validator happy on first run.

History:
- 2025-11-28: Card drafted for Phase 6 planning.
- 2025-11-28: Moved to In Progress on branch implement/6-1-phase-scaffolding-cli.
- 2025-11-28: Implemented phase scaffolding CLI backend, plan artifact template, and tests.
- 2025-11-28: Marked Done after tests passed and logging/exit codes completed.
