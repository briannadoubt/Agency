---
owner: bri
agent_flow: null
agent_status: idle
branch: implement/9-1-cli-discovery
risk: normal
review: not-requested
---

# 9.1 ClaudeCodeLocator & Settings

Summary:
Implement discovery of the Claude Code CLI binary and Settings UI for configuration.

Acceptance Criteria:
- [x] Implement `ClaudeCodeLocator` to find `claude` binary in PATH and common locations
- [x] Check `/usr/local/bin`, `~/.local/bin`, Homebrew paths, npm global bin
- [x] Verify CLI responds to `claude --version`
- [x] Add Settings view with field for custom binary path override
- [x] Store settings in UserDefaults (path only, not secrets)
- [x] Surface clear error in UI if CLI not found with installation instructions

Notes:
- Common install paths: `/usr/local/bin/claude`, `~/.local/bin/claude`, `/opt/homebrew/bin/claude`
- Use `which claude` as fallback for PATH resolution
- Cache discovered path to avoid repeated lookups
- Settings UI should show current detected path and allow override

History:
- 2025-11-29: Card created from Phase 9 planning.
- 2025-11-30: Implemented ClaudeCodeLocator, ClaudeCodeSettings, ClaudeCodeSettingsView with unit tests.
