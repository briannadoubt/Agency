---
owner: bri
agent_flow: null
agent_status: idle
branch: null
risk: normal
review: not-requested
---

# 9.1 CLI Discovery & Validation

Summary:
Implement discovery and validation of the Claude Code CLI binary to ensure it's available before attempting agent execution.

Acceptance Criteria:
- [ ] Implement `ClaudeCodeLocator` to find `claude` binary in PATH and common locations
- [ ] Check `/usr/local/bin`, `~/.local/bin`, Homebrew paths, and npm global bin
- [ ] Verify CLI responds to `claude --version` and parse version string
- [ ] Surface clear error in UI if CLI not found with installation instructions
- [ ] Add Settings UI field for custom binary path override

Notes:
- Common install paths: `/usr/local/bin/claude`, `~/.local/bin/claude`, `/opt/homebrew/bin/claude`
- Use `which claude` as fallback for PATH resolution
- Cache discovered path to avoid repeated lookups
- Version check ensures compatibility with expected CLI arguments

History:
- 2025-11-29: Card created from Phase 9 planning.
