---
owner: agent
agent_flow: implement
agent_status: complete
risk: medium
parallelizable: true
---

# 10.4 Run History & Metrics

Summary:
Display run history with costs, success rates, and performance metrics in a dedicated view or panel.

Acceptance Criteria:
- [x] RunHistoryView showing recent completed runs
- [x] Each run displays: card, flow, duration, cost, status
- [x] Aggregate metrics: total cost, success rate, average duration
- [x] Filter by date range, flow type, or status
- [x] Persist run history to disk (SupervisorStateStore or separate)

Notes:
WorkerRunResult contains duration, cost data. Need to persist completed runs beyond current session. Consider storing in `~/Library/Application Support/Agency/run-history.json`.

Key files:
- Agency/Supervisor/AgentRunModels.swift (WorkerRunResult)
- Agency/Supervisor/SupervisorStateStore.swift
- Agency/Supervisor/RunHistoryStore.swift (new)
- Agency/Views/RunHistoryView.swift (new)

History:
- 2025-12-07 - Card created
- 2025-12-07 - Implemented RunHistoryStore and RunHistoryView with filtering, metrics, and persistence
